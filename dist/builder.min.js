!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Builder=e()}(this,function(){"use strict";function t(t,e){return t===e||t!=t&&e!=e}function e(e,n){for(var o=e.length;o--;)if(t(e[o][0],n))return o;return-1}function n(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function o(t){return null==t?void 0===t?Rt:It:zt&&zt in Object(t)?function(t){var e=Pt.call(t,Mt),n=t[Mt];try{t[Mt]=void 0;var o=!0}catch(t){}var r=Bt.call(t);return o&&(e?t[Mt]=n:delete t[Mt]),r}(t):function(t){return Ft.call(t)}(t)}function r(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function i(t){if(!r(t))return!1;var e=o(t);return e==Wt||e==Ut||e==Ht||e==Yt}function s(t){if(!r(t)||function(t){return!!qt&&qt in t}(t))return!1;return(i(t)?te:Gt).test(function(t){if(null!=t){try{return Vt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function a(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return s(n)?n:void 0}function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function c(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function f(t){var e=this.__data__=new n(t);this.size=e.size}function p(t,e,n){"__proto__"==e&&le?le(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function d(e,n,o){(void 0===o||t(e[n],o))&&(void 0!==o||n in e)||p(e,n,o)}function h(t,e){var n=e?function(t){var e=new t.constructor(t.byteLength);return new he(e).set(new he(t)),e}(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function v(t,e){var n=-1,o=t.length;for(e||(e=Array(o));++n<o;)e[n]=t[n];return e}function m(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||be)}function g(t){return null!=t&&"object"==typeof t}function b(t){return g(t)&&o(t)==ye}function y(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Ee}function _(t){return null!=t&&y(t.length)&&!i(t)}function w(e,n,o){var r=e[n];We.call(e,n)&&t(r,o)&&(void 0!==o||n in e)||p(e,n,o)}function C(t,e){return!!(e=null==e?Ue:e)&&("number"==typeof t||Ye.test(t))&&t>-1&&t%1==0&&t<e}function x(t,e){var n=Oe(t),o=!n&&xe(t),r=!n&&!o&&Te(t),i=!n&&!o&&!r&&He(t),s=n||o||r||i,a=s?function(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o}(t.length,String):[],l=a.length;for(var c in t)!e&&!Xe.call(t,c)||s&&("length"==c||r&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||C(c,l))||a.push(c);return a}function O(t){if(!r(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=m(t),n=[];for(var o in t)("constructor"!=o||!e&&qe.call(t,o))&&n.push(o);return n}function E(t){return _(t)?x(t,!0):O(t)}function S(t){return function(t,e,n,o){var r=!n;n||(n={});for(var i=-1,s=e.length;++i<s;){var a=e[i],l=o?o(n[a],t[a],a,n,t):void 0;void 0===l&&(l=t[a]),r?p(n,a,l):w(n,a,l)}return n}(t,E(t))}function j(t,e,n,s,a,l,c){var u=t[n],f=e[n],p=c.get(f);if(p)d(t,n,p);else{var b=l?l(u,f,n+"",t,e,c):void 0,y=void 0===b;if(y){var w=Oe(f),C=!w&&Te(f),x=!w&&!C&&He(f);b=f,w||C||x?Oe(u)?b=u:!function(t){return g(t)&&_(t)}(u)?C?(y=!1,b=function(t,e){if(e)return t.slice();var n=t.length,o=de?de(n):new t.constructor(n);return t.copy(o),o}(f,!0)):x?(y=!1,b=h(f,!0)):b=[]:b=v(u):function(t){if(!g(t)||o(t)!=ke)return!1;var e=ge(t);if(null===e)return!0;var n=Le.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&$e.call(n)==Pe}(f)||xe(f)?(b=u,xe(u)?b=S(u):(!r(u)||s&&i(u))&&(b=function(t){return"function"!=typeof t.constructor||m(t)?{}:me(ge(t))}(f))):y=!1}y&&(c.set(f,b),a(b,f,s,l,c),c.delete(f)),d(t,n,b)}}function D(t,e,n,o,i){t!==e&&ce(e,function(s,a){if(r(s))i||(i=new f),j(t,e,a,n,D,o,i);else{var l=o?o(t[a],s,a+"",t,e,i):void 0;void 0===l&&(l=s),d(t,a,l)}},E)}function T(t){return t}function k(t,e){return Ze(function(t,e,n){return e=Ve(void 0===e?t.length-1:e,0),function(){for(var o=arguments,r=-1,i=Ve(o.length-e,0),s=Array(i);++r<i;)s[r]=o[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=o[r];return a[e]=n(s),function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(t,this,a)}}(t,e,T),t+"")}function A(e){return k(function(n,o){var i=-1,s=o.length,a=s>1?o[s-1]:void 0,l=s>2?o[2]:void 0;for(a=e.length>3&&"function"==typeof a?(s--,a):void 0,l&&function(e,n,o){if(!r(o))return!1;var i=typeof n;return!!("number"==i?_(o)&&C(n,o.length):"string"==i&&n in o)&&t(o[n],e)}(o[0],o[1],l)&&(a=s<3?void 0:a,s=1),n=Object(n);++i<s;){var c=o[i];c&&e(n,c,i,a)}return n})}function N(t){return"symbol"==typeof t||g(t)&&o(t)==en}function $(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(rn);var n=function(){var o=arguments,r=e?e.apply(this,o):o[0],i=n.cache;if(i.has(r))return i.get(r);var s=t.apply(this,o);return n.cache=i.set(r,s)||i,s};return n.cache=new($.Cache||u),n}function L(t,e){for(var n=-1,o=null==t?0:t.length,r=Array(o);++n<o;)r[n]=e(t[n],n,t);return r}function P(t){if("string"==typeof t)return t;if(Oe(t))return L(t,P)+"";if(N(t))return dn?dn.call(t):"";var e=t+"";return"0"==e&&1/t==-fn?"-0":e}function B(t){return null==t?"":P(t)}function M(t,e){return Oe(t)?t:function(t,e){if(Oe(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!N(t))||on.test(t)||!nn.test(t)||null!=e&&t in Object(e)}(t,e)?[t]:un(B(t))}function F(t){if("string"==typeof t||N(t))return t;var e=t+"";return"0"==e&&1/t==-hn?"-0":e}function I(t,e,n){var o=null==t?void 0:function(t,e){for(var n=0,o=(e=M(e,t)).length;null!=t&&n<o;)t=t[F(e[n++])];return n&&n==o?t:void 0}(t,e);return void 0===o?n:o}function R(t){return Oe(t)?L(t,F):N(t)?[t]:v(un(B(t)))}function z(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function H(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function W(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function U(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(Uo);var n=function(){var o=arguments,r=e?e.apply(this,o):o[0],i=n.cache;if(i.has(r))return i.get(r);var s=t.apply(this,o);return n.cache=i.set(r,s)||i,s};return n.cache=new(U.Cache||Wo),n}function Y(t){if("string"==typeof t)return t;if(En(t))return Jo(t,Y)+"";if(Un(t))return tr?tr.call(t):"";var e=t+"";return"0"==e&&1/t==-Qo?"-0":e}function X(t,e){for(var n=t;null!==n;){if(n===e)return!0;n=n.parentNode}return!1}function q(t){return t&&"[object Function]"==={}.toString.call(t)}function V(t,e){if(1!==t.nodeType)return[];var n=window.getComputedStyle(t,null);return e?n[e]:n}function G(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function K(t){if(!t)return window.document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=V(t),n=e.overflow,o=e.overflowX,r=e.overflowY;return/(auto|scroll)/.test(n+r+o)?t:K(G(t))}function J(t){var e=t&&t.offsetParent,n=e&&e.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TD","TABLE"].indexOf(e.nodeName)&&"static"===V(e,"position")?J(e):e:t?t.ownerDocument.documentElement:window.document.documentElement}function Q(t){return null!==t.parentNode?Q(t.parentNode):t}function Z(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return window.document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,o=n?t:e,r=n?e:t,i=document.createRange();i.setStart(o,0),i.setEnd(r,0);var s=i.commonAncestorContainer;if(t!==s&&e!==s||o.contains(r))return function(t){var e=t.nodeName;return"BODY"!==e&&("HTML"===e||J(t.firstElementChild)===t)}(s)?s:J(s);var a=Q(t);return a.host?Z(a.host,e):Z(t,Q(e).host)}function tt(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var o=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||o)[e]}return t[e]}function et(t,e){var n="x"===e?"Left":"Top",o="Left"===n?"Right":"Bottom";return+t["border"+n+"Width"].split("px")[0]+ +t["border"+o+"Width"].split("px")[0]}function nt(t,e,n,o){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],wr()?n["offset"+t]+o["margin"+("Height"===t?"Top":"Left")]+o["margin"+("Height"===t?"Bottom":"Right")]:0)}function ot(){var t=window.document.body,e=window.document.documentElement,n=wr()&&window.getComputedStyle(e);return{height:nt("Height",t,e,n),width:nt("Width",t,e,n)}}function rt(t){return Er({},t,{right:t.left+t.width,bottom:t.top+t.height})}function it(t){var e={};if(wr())try{e=t.getBoundingClientRect();var n=tt(t,"top"),o=tt(t,"left");e.top+=n,e.left+=o,e.bottom+=n,e.right+=o}catch(t){}else e=t.getBoundingClientRect();var r={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},i="HTML"===t.nodeName?ot():{},s=i.width||t.clientWidth||r.right-r.left,a=i.height||t.clientHeight||r.bottom-r.top,l=t.offsetWidth-s,c=t.offsetHeight-a;if(l||c){var u=V(t);l-=et(u,"x"),c-=et(u,"y"),r.width-=l,r.height-=c}return rt(r)}function st(t,e){var n=wr(),o="HTML"===e.nodeName,r=it(t),i=it(e),s=K(t),a=V(e),l=+a.borderTopWidth.split("px")[0],c=+a.borderLeftWidth.split("px")[0],u=rt({top:r.top-i.top-l,left:r.left-i.left-c,width:r.width,height:r.height});if(u.marginTop=0,u.marginLeft=0,!n&&o){var f=+a.marginTop.split("px")[0],p=+a.marginLeft.split("px")[0];u.top-=l-f,u.bottom-=l-f,u.left-=c-p,u.right-=c-p,u.marginTop=f,u.marginLeft=p}return(n?e.contains(s):e===s&&"BODY"!==s.nodeName)&&(u=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=tt(e,"top"),r=tt(e,"left"),i=n?-1:1;return t.top+=o*i,t.bottom+=o*i,t.left+=r*i,t.right+=r*i,t}(u,e)),u}function at(t){var e=t.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===V(t,"position")||at(G(t)))}function lt(t,e,n,o){var r={top:0,left:0},i=Z(t,e);if("viewport"===o)r=function(t){var e=t.ownerDocument.documentElement,n=st(t,e),o=Math.max(e.clientWidth,window.innerWidth||0),r=Math.max(e.clientHeight,window.innerHeight||0),i=tt(e),s=tt(e,"left");return rt({top:i-n.top+n.marginTop,left:s-n.left+n.marginLeft,width:o,height:r})}(i);else{var s=void 0;"scrollParent"===o?"BODY"===(s=K(G(e))).nodeName&&(s=t.ownerDocument.documentElement):s="window"===o?t.ownerDocument.documentElement:o;var a=st(s,i);if("HTML"!==s.nodeName||at(i))r=a;else{var l=ot(),c=l.height,u=l.width;r.top+=a.top-a.marginTop,r.bottom=c+a.top,r.left+=a.left-a.marginLeft,r.right=u+a.left}}return r.left+=n,r.top+=n,r.right-=n,r.bottom-=n,r}function ct(t,e,n,o,r){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var s=lt(n,o,i,r),a={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},l=Object.keys(a).map(function(t){return Er({key:t},a[t],{area:function(t){return t.width*t.height}(a[t])})}).sort(function(t,e){return e.area-t.area}),c=l.filter(function(t){var e=t.width,o=t.height;return e>=n.clientWidth&&o>=n.clientHeight}),u=c.length>0?c[0].key:l[0].key,f=t.split("-")[1];return u+(f?"-"+f:"")}function ut(t,e,n){return st(n,Z(e,n))}function ft(t){var e=window.getComputedStyle(t),n=parseFloat(e.marginTop)+parseFloat(e.marginBottom),o=parseFloat(e.marginLeft)+parseFloat(e.marginRight);return{width:t.offsetWidth+o,height:t.offsetHeight+n}}function pt(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function dt(t,e,n){n=n.split("-")[0];var o=ft(t),r={width:o.width,height:o.height},i=-1!==["right","left"].indexOf(n),s=i?"top":"left",a=i?"left":"top",l=i?"height":"width",c=i?"width":"height";return r[s]=e[s]+e[l]/2-o[l]/2,r[a]=n===a?e[a]-o[c]:e[pt(a)],r}function ht(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function vt(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===n});var o=ht(t,function(t){return t[e]===n});return t.indexOf(o)}(t,"name",n))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&q(n)&&(e.offsets.popper=rt(e.offsets.popper),e.offsets.reference=rt(e.offsets.reference),e=n(e,t))}),e}function mt(t,e){return t.some(function(t){var n=t.name;return t.enabled&&n===e})}function gt(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),o=0;o<e.length-1;o++){var r=e[o],i=r?""+r+n:t;if(void 0!==window.document.body.style[i])return i}return null}function bt(t){var e=t.ownerDocument;return e?e.defaultView:window}function yt(t,e,n,o){var r="BODY"===t.nodeName,i=r?t.ownerDocument.defaultView:t;i.addEventListener(e,n,{passive:!0}),r||yt(K(i.parentNode),e,n,o),o.push(i)}function _t(){this.state.eventsEnabled||(this.state=function(t,e,n,o){n.updateBound=o,bt(t).addEventListener("resize",n.updateBound,{passive:!0});var r=K(t);return yt(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}(this.reference,this.options,this.state,this.scheduleUpdate))}function wt(){this.state.eventsEnabled&&(window.cancelAnimationFrame(this.scheduleUpdate),this.state=function(t,e){return bt(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}(this.reference,this.state))}function Ct(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function xt(t,e){Object.keys(e).forEach(function(n){var o="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&Ct(e[n])&&(o="px"),t.style[n]=e[n]+o})}function Ot(t){return xt(t.instance.popper,t.styles),function(t,e){Object.keys(e).forEach(function(n){!1!==e[n]?t.setAttribute(n,e[n]):t.removeAttribute(n)})}(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&xt(t.arrowElement,t.arrowStyles),t}function Et(t,e,n){var o=ht(t,function(t){return t.name===e}),r=!!o&&t.some(function(t){return t.name===n&&t.enabled&&t.order<o.order});if(!r){var i="`"+e+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return r}function St(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=jr.indexOf(t),o=jr.slice(n+1).concat(jr.slice(0,n));return e?o.reverse():o}function jt(t,e,n,o){var r=[0,0],i=-1!==["right","left"].indexOf(o),s=t.split(/(\+|\-)/).map(function(t){return t.trim()}),a=s.indexOf(ht(s,function(t){return-1!==t.search(/,|\s/)}));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==a?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return(c=c.map(function(t,o){var r=(1===o?!i:i)?"height":"width",s=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,s=!0,t):s?(t[t.length-1]+=e,s=!1,t):t.concat(e)},[]).map(function(t){return function(t,e,n,o){var r=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+r[1],s=r[2];if(!i)return t;if(0===s.indexOf("%")){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=o}return rt(a)[e]/100*i}if("vh"===s||"vw"===s)return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i;return i}(t,r,e,n)})})).forEach(function(t,e){t.forEach(function(n,o){Ct(n)&&(r[e]+=n*("-"===t[o-1]?-1:1))})}),r}function Dt(t){var e=t.builder,n=t.Vue.extend(Ar).extend({beforeCreate:function(){this.$builder=e}});e.styler={inserted:function(t,e,o){var r=document.createElement("div");r.id="newNode",t.parentNode.appendChild(r),new n({propsData:{el:t,section:o.context.$section,type:e.arg||function(t,e){var n=ar(e,t);return n===mn?"text":n===gn?"text":n===xn?"button":n===Cn?"section":n===String?"text":n===Number?"text":null}(e.expression,o.context.$section.schema)||function(t){switch(t=t.toUpperCase()){case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"P":case"B":case"SPAN":return"text";case"BUTTON":case"A":return"button";case"SECTION":case"HEADER":return"section"}}(t.tagName),name:e.expression,editable:t.classList.contains("is-editable")}}).$mount("#newNode")}}}var Tt=Array.prototype.splice;n.prototype.clear=function(){this.__data__=[],this.size=0},n.prototype.delete=function(t){var n=this.__data__,o=e(n,t);return!(o<0||(o==n.length-1?n.pop():Tt.call(n,o,1),--this.size,0))},n.prototype.get=function(t){var n=this.__data__,o=e(n,t);return o<0?void 0:n[o][1]},n.prototype.has=function(t){return e(this.__data__,t)>-1},n.prototype.set=function(t,n){var o=this.__data__,r=e(o,t);return r<0?(++this.size,o.push([t,n])):o[r][1]=n,this};var kt="object"==typeof global&&global&&global.Object===Object&&global,At="object"==typeof self&&self&&self.Object===Object&&self,Nt=kt||At||Function("return this")(),$t=Nt.Symbol,Lt=Object.prototype,Pt=Lt.hasOwnProperty,Bt=Lt.toString,Mt=$t?$t.toStringTag:void 0,Ft=Object.prototype.toString,It="[object Null]",Rt="[object Undefined]",zt=$t?$t.toStringTag:void 0,Ht="[object AsyncFunction]",Wt="[object Function]",Ut="[object GeneratorFunction]",Yt="[object Proxy]",Xt=Nt["__core-js_shared__"],qt=function(){var t=/[^.]+$/.exec(Xt&&Xt.keys&&Xt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Vt=Function.prototype.toString,Gt=/^\[object .+?Constructor\]$/,Kt=Function.prototype,Jt=Object.prototype,Qt=Kt.toString,Zt=Jt.hasOwnProperty,te=RegExp("^"+Qt.call(Zt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ee=a(Nt,"Map"),ne=a(Object,"create"),oe="__lodash_hash_undefined__",re=Object.prototype.hasOwnProperty,ie=Object.prototype.hasOwnProperty,se="__lodash_hash_undefined__";l.prototype.clear=function(){this.__data__=ne?ne(null):{},this.size=0},l.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},l.prototype.get=function(t){var e=this.__data__;if(ne){var n=e[t];return n===oe?void 0:n}return re.call(e,t)?e[t]:void 0},l.prototype.has=function(t){var e=this.__data__;return ne?void 0!==e[t]:ie.call(e,t)},l.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ne&&void 0===e?se:e,this},u.prototype.clear=function(){this.size=0,this.__data__={hash:new l,map:new(ee||n),string:new l}},u.prototype.delete=function(t){var e=c(this,t).delete(t);return this.size-=e?1:0,e},u.prototype.get=function(t){return c(this,t).get(t)},u.prototype.has=function(t){return c(this,t).has(t)},u.prototype.set=function(t,e){var n=c(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this};var ae=200;f.prototype.clear=function(){this.__data__=new n,this.size=0},f.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},f.prototype.get=function(t){return this.__data__.get(t)},f.prototype.has=function(t){return this.__data__.has(t)},f.prototype.set=function(t,e){var o=this.__data__;if(o instanceof n){var r=o.__data__;if(!ee||r.length<ae-1)return r.push([t,e]),this.size=++o.size,this;o=this.__data__=new u(r)}return o.set(t,e),this.size=o.size,this};var le=function(){try{var t=a(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),ce=function(t){return function(e,n,o){for(var r=-1,i=Object(e),s=o(e),a=s.length;a--;){var l=s[t?a:++r];if(!1===n(i[l],l,i))break}return e}}(),ue="object"==typeof exports&&exports&&!exports.nodeType&&exports,fe=ue&&"object"==typeof module&&module&&!module.nodeType&&module,pe=fe&&fe.exports===ue?Nt.Buffer:void 0,de=pe?pe.allocUnsafe:void 0,he=Nt.Uint8Array,ve=Object.create,me=function(){function t(){}return function(e){if(!r(e))return{};if(ve)return ve(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),ge=function(t,e){return function(n){return t(e(n))}}(Object.getPrototypeOf,Object),be=Object.prototype,ye="[object Arguments]",_e=Object.prototype,we=_e.hasOwnProperty,Ce=_e.propertyIsEnumerable,xe=b(function(){return arguments}())?b:function(t){return g(t)&&we.call(t,"callee")&&!Ce.call(t,"callee")},Oe=Array.isArray,Ee=9007199254740991,Se="object"==typeof exports&&exports&&!exports.nodeType&&exports,je=Se&&"object"==typeof module&&module&&!module.nodeType&&module,De=je&&je.exports===Se?Nt.Buffer:void 0,Te=(De?De.isBuffer:void 0)||function(){return!1},ke="[object Object]",Ae=Function.prototype,Ne=Object.prototype,$e=Ae.toString,Le=Ne.hasOwnProperty,Pe=$e.call(Object),Be={};Be["[object Float32Array]"]=Be["[object Float64Array]"]=Be["[object Int8Array]"]=Be["[object Int16Array]"]=Be["[object Int32Array]"]=Be["[object Uint8Array]"]=Be["[object Uint8ClampedArray]"]=Be["[object Uint16Array]"]=Be["[object Uint32Array]"]=!0,Be["[object Arguments]"]=Be["[object Array]"]=Be["[object ArrayBuffer]"]=Be["[object Boolean]"]=Be["[object DataView]"]=Be["[object Date]"]=Be["[object Error]"]=Be["[object Function]"]=Be["[object Map]"]=Be["[object Number]"]=Be["[object Object]"]=Be["[object RegExp]"]=Be["[object Set]"]=Be["[object String]"]=Be["[object WeakMap]"]=!1;var Me="object"==typeof exports&&exports&&!exports.nodeType&&exports,Fe=Me&&"object"==typeof module&&module&&!module.nodeType&&module,Ie=Fe&&Fe.exports===Me&&kt.process,Re=function(){try{return Ie&&Ie.binding&&Ie.binding("util")}catch(t){}}(),ze=Re&&Re.isTypedArray,He=ze?function(t){return function(e){return t(e)}}(ze):function(t){return g(t)&&y(t.length)&&!!Be[o(t)]},We=Object.prototype.hasOwnProperty,Ue=9007199254740991,Ye=/^(?:0|[1-9]\d*)$/,Xe=Object.prototype.hasOwnProperty,qe=Object.prototype.hasOwnProperty,Ve=Math.max,Ge=le?function(t,e){return le(t,"toString",{configurable:!0,enumerable:!1,value:function(t){return function(){return t}}(e),writable:!0})}:T,Ke=800,Je=16,Qe=Date.now,Ze=function(t){var e=0,n=0;return function(){var o=Qe(),r=Je-(o-n);if(n=o,r>0){if(++e>=Ke)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Ge),tn=A(function(t,e,n){D(t,e,n)}),en="[object Symbol]",nn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,on=/^\w*$/,rn="Expected a function";$.Cache=u;var sn=500,an=/^\./,ln=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cn=/\\(\\)?/g,un=function(t){var e=$(t,function(t){return n.size===sn&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return an.test(t)&&e.push(""),t.replace(ln,function(t,n,o,r){e.push(o?r.replace(cn,"$1"):n||t)}),e}),fn=1/0,pn=$t?$t.prototype:void 0,dn=pn?pn.toString:void 0,hn=1/0,vn=function(){},mn=function(){},gn=function(){},bn=function(){},yn=function(){},_n=function(){},wn=function(){},Cn=function(){},xn=function(){},On=Object.freeze({Avatar:vn,Title:mn,Text:gn,Logo:bn,Image:yn,Quote:_n,Link:wn,ClassList:Cn,Button:xn}),En=Array.isArray,Sn="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},jn="object"==typeof Sn&&Sn&&Sn.Object===Object&&Sn,Dn="object"==typeof self&&self&&self.Object===Object&&self,Tn=jn||Dn||Function("return this")(),kn=Tn.Symbol,An=Object.prototype,Nn=An.hasOwnProperty,$n=An.toString,Ln=kn?kn.toStringTag:void 0,Pn=function(t){var e=Nn.call(t,Ln),n=t[Ln];try{t[Ln]=void 0;var o=!0}catch(t){}var r=$n.call(t);return o&&(e?t[Ln]=n:delete t[Ln]),r},Bn=Object.prototype.toString,Mn=function(t){return Bn.call(t)},Fn="[object Null]",In="[object Undefined]",Rn=kn?kn.toStringTag:void 0,zn=function(t){return null==t?void 0===t?In:Fn:Rn&&Rn in Object(t)?Pn(t):Mn(t)},Hn=function(t){return null!=t&&"object"==typeof t},Wn="[object Symbol]",Un=function(t){return"symbol"==typeof t||Hn(t)&&zn(t)==Wn},Yn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xn=/^\w*$/,qn=function(t,e){if(En(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Un(t))||Xn.test(t)||!Yn.test(t)||null!=e&&t in Object(e)},Vn=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},Gn="[object AsyncFunction]",Kn="[object Function]",Jn="[object GeneratorFunction]",Qn="[object Proxy]",Zn=function(t){if(!Vn(t))return!1;var e=zn(t);return e==Kn||e==Jn||e==Gn||e==Qn},to=Tn["__core-js_shared__"],eo=function(){var t=/[^.]+$/.exec(to&&to.keys&&to.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),no=function(t){return!!eo&&eo in t},oo=Function.prototype.toString,ro=function(t){if(null!=t){try{return oo.call(t)}catch(t){}try{return t+""}catch(t){}}return""},io=/^\[object .+?Constructor\]$/,so=Function.prototype,ao=Object.prototype,lo=so.toString,co=ao.hasOwnProperty,uo=RegExp("^"+lo.call(co).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fo=function(t){return!(!Vn(t)||no(t))&&(Zn(t)?uo:io).test(ro(t))},po=function(t,e){return null==t?void 0:t[e]},ho=function(t,e){var n=po(t,e);return fo(n)?n:void 0},vo=ho(Object,"create"),mo=function(){this.__data__=vo?vo(null):{},this.size=0},go=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},bo="__lodash_hash_undefined__",yo=Object.prototype.hasOwnProperty,_o=function(t){var e=this.__data__;if(vo){var n=e[t];return n===bo?void 0:n}return yo.call(e,t)?e[t]:void 0},wo=Object.prototype.hasOwnProperty,Co=function(t){var e=this.__data__;return vo?void 0!==e[t]:wo.call(e,t)},xo="__lodash_hash_undefined__",Oo=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=vo&&void 0===e?xo:e,this};z.prototype.clear=mo,z.prototype.delete=go,z.prototype.get=_o,z.prototype.has=Co,z.prototype.set=Oo;var Eo=z,So=function(){this.__data__=[],this.size=0},jo=function(t,e){return t===e||t!=t&&e!=e},Do=function(t,e){for(var n=t.length;n--;)if(jo(t[n][0],e))return n;return-1},To=Array.prototype.splice,ko=function(t){var e=this.__data__,n=Do(e,t);return!(n<0||(n==e.length-1?e.pop():To.call(e,n,1),--this.size,0))},Ao=function(t){var e=this.__data__,n=Do(e,t);return n<0?void 0:e[n][1]},No=function(t){return Do(this.__data__,t)>-1},$o=function(t,e){var n=this.__data__,o=Do(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this};H.prototype.clear=So,H.prototype.delete=ko,H.prototype.get=Ao,H.prototype.has=No,H.prototype.set=$o;var Lo=H,Po=ho(Tn,"Map"),Bo=function(){this.size=0,this.__data__={hash:new Eo,map:new(Po||Lo),string:new Eo}},Mo=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t},Fo=function(t,e){var n=t.__data__;return Mo(e)?n["string"==typeof e?"string":"hash"]:n.map},Io=function(t){var e=Fo(this,t).delete(t);return this.size-=e?1:0,e},Ro=function(t){return Fo(this,t).get(t)},zo=function(t){return Fo(this,t).has(t)},Ho=function(t,e){var n=Fo(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this};W.prototype.clear=Bo,W.prototype.delete=Io,W.prototype.get=Ro,W.prototype.has=zo,W.prototype.set=Ho;var Wo=W,Uo="Expected a function";U.Cache=Wo;var Yo=U,Xo=500,qo=/^\./,Vo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Go=/\\(\\)?/g,Ko=function(t){var e=Yo(t,function(t){return n.size===Xo&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return qo.test(t)&&e.push(""),t.replace(Vo,function(t,n,o,r){e.push(o?r.replace(Go,"$1"):n||t)}),e}),Jo=function(t,e){for(var n=-1,o=null==t?0:t.length,r=Array(o);++n<o;)r[n]=e(t[n],n,t);return r},Qo=1/0,Zo=kn?kn.prototype:void 0,tr=Zo?Zo.toString:void 0,er=Y,nr=function(t){return null==t?"":er(t)},or=function(t,e){return En(t)?t:qn(t,e)?[t]:Ko(nr(t))},rr=1/0,ir=function(t){if("string"==typeof t||Un(t))return t;var e=t+"";return"0"==e&&1/t==-rr?"-0":e},sr=function(t,e){for(var n=0,o=(e=or(e,t)).length;null!=t&&n<o;)t=t[ir(e[n++])];return n&&n==o?t:void 0},ar=function(t,e,n){var o=null==t?void 0:sr(t,e);return void 0===o?n:o},lr=new Map([[mn,"Awesome title"],[gn,"We're creating the best place to go when starting a new business or company.With Baianat you can instantly search domain names, social media handles, and see your logo in beautiful logotypes."],[vn,"static/img/avatar.png"],[bn,"static/img/google.svg"],[wn,"http://example.com"],[yn,"static/img/baianat.png"],[Cn,function(){return[]}],[xn,function(){return{text:"Click Me!",classes:[],href:"http://example.com"}}],[_n,"When you were made a leader, you weren't given a crown; you were given the responsibility to bring out the best in others."],[Number,100],[String,"This is pretty neat"]]),cr=function(){};cr.seed=function(t){if(function(t){return t&&"object"==typeof t&&null!==t&&!Array.isArray(t)}(t))return Object.keys(t).reduce(function(e,n){return e[n]=cr.seed(t[n]),e},{});if(Array.isArray(t))return t.map(function(t){return cr.seed(t)});var e=lr.get(t);return"function"==typeof e?e():e};var ur={name:null,schema:{}},fr=0,pr=function(t){this.id=fr++,t=Object.assign({},ur,t),this.name=t.name,this.schema=t.schema,this.data=t.data||cr.seed(t.schema)};pr.prototype.set=function(t,e){var n=R(t),o=n.pop();n.shift();var r=0===n.length?this.data:I(this.data,n);"function"!=typeof e?r[o]=e:e(r[o])},pr.prototype.get=function(t){var e=R(t),n=e.pop();e.shift();return(0===e.length?this.data:I(this.data,e))[n]};for(var dr={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{ref:"artboard",staticClass:"artboard",class:{"is-sorting":t.$builder.isSorting},attrs:{id:"artboard"}},t._l(t.$builder.sections,function(t){return n(t.name,{key:t.id,tag:"component",attrs:{id:t.id}})})),n("div",{staticClass:"controller"},[t.showIntro&&!this.$builder.sections.length?n("div",{staticClass:"controller-intro"},[n("div",{staticClass:"container"},[t._t("container")],2)]):t._e(),n("ul",{staticClass:"controller-list",class:{"is-visiable":t.listShown}},t._l(t.sections,function(e,o){return n("li",[n("a",{staticClass:"controller-element",on:{click:function(n){t.addSection(e)}}},[t.covers[o]?n("img",{attrs:{src:t.covers[o]}}):n("span",[t._v(t._s(e))])])])})),n("div",{staticClass:"controller-buttons"},[n("button",{staticClass:"controller-submit button is-green is-rounded",on:{click:t.submit}},[n("i",{staticClass:"material-icons"},[t._v("done")])]),n("button",{staticClass:"controller-sort button is-blue is-rounded",class:{"is-red":t.$builder.isSorting},on:{click:t.toogleState}},[n("i",{staticClass:"material-icons"},[t._v("sort")])]),n("button",{staticClass:"controller-add button is-blue is-rounded",class:{"is-red":t.listShown},attrs:{disabled:t.$builder.isSorting},on:{click:t.newSection}},[n("i",{staticClass:"material-icons"},[t._v("add")])])])])])},staticRenderFns:[],name:"builder",props:{showIntro:{type:Boolean,default:!0},data:{type:Object,default:function(){return{sections:[]}}}},data:function(){var t=this;return{listShown:!1,sections:Object.keys(this.$builder.components),covers:Object.keys(t.$builder.components).map(function(e){return t.$builder.components[e].options.cover})}},methods:{newSection:function(){1!==this.sections.length?this.toogleListVisiableity():this.addSection(this.sections[0])},addSection:function(t){this.$builder.create({name:t,schema:this.$builder.components[t].options.$schema}),this.listShown=!1},toogleState:function(){this.$builder.isEditing=!this.$builder.isEditing,this.$builder.isSorting=!this.$builder.isSorting,this.$builder.toggleSort()},toogleListVisiableity:function(){this.listShown=!this.listShown},submit:function(){this.$emit("saved",this.$builder)}},created:function(){this.$builder.set(this.data)},mounted:function(){this.$builder.rootEl=this.$refs.artboard}},hr={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"artboard",attrs:{id:"artboard"}},this._l(this.$builder.sections,function(t){return e(t.name,{key:t.id,tag:"component",attrs:{id:t.id}})}))},staticRenderFns:[],name:"builder-render",props:{data:{type:Object,default:function(){return{title:"",sections:[]}}}},created:function(){this.$builder.set(this.data),this.$builder.isEditing=!1}},vr="undefined"!=typeof window&&void 0!==window.document,mr=["Edge","Trident","Firefox"],gr=0,br=0;br<mr.length;br+=1)if(vr&&navigator.userAgent.indexOf(mr[br])>=0){gr=1;break}var yr=vr&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},gr))}},_r=void 0,wr=function(){return void 0===_r&&(_r=-1!==navigator.appVersion.indexOf("MSIE 10")),_r},Cr=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},xr=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),Or=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},Er=Object.assign||function(t){for(var e=arguments,n=1;n<arguments.length;n++){var o=e[n];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t},Sr=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],jr=Sr.slice(3),Dr={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},Tr={placement:"bottom",eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],o=e.split("-")[1];if(o){var r=t.offsets,i=r.reference,s=r.popper,a=-1!==["bottom","top"].indexOf(n),l=a?"left":"top",c=a?"width":"height",u={start:Or({},l,i[l]),end:Or({},l,i[l]+i[c]-s[c])};t.offsets.popper=Er({},s,u[o])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,o=t.placement,r=t.offsets,i=r.popper,s=r.reference,a=o.split("-")[0],l=void 0;return l=Ct(+n)?[+n,0]:jt(n,i,s,a),"left"===a?(i.top+=l[0],i.left-=l[1]):"right"===a?(i.top+=l[0],i.left+=l[1]):"top"===a?(i.left+=l[0],i.top-=l[1]):"bottom"===a&&(i.left+=l[0],i.top+=l[1]),t.popper=i,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||J(t.instance.popper);t.instance.reference===n&&(n=J(n));var o=lt(t.instance.popper,t.instance.reference,e.padding,n);e.boundaries=o;var r=e.priority,i=t.offsets.popper,s={primary:function(t){var n=i[t];return i[t]<o[t]&&!e.escapeWithReference&&(n=Math.max(i[t],o[t])),Or({},t,n)},secondary:function(t){var n="right"===t?"left":"top",r=i[n];return i[t]>o[t]&&!e.escapeWithReference&&(r=Math.min(i[n],o[t]-("right"===t?i.width:i.height))),Or({},n,r)}};return r.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";i=Er({},i,s[e](t))}),t.offsets.popper=i,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,o=e.reference,r=t.placement.split("-")[0],i=Math.floor,s=-1!==["top","bottom"].indexOf(r),a=s?"right":"bottom",l=s?"left":"top",c=s?"width":"height";return n[a]<i(o[l])&&(t.offsets.popper[l]=i(o[l])-n[c]),n[l]>i(o[a])&&(t.offsets.popper[l]=i(o[a])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){if(!Et(t.instance.modifiers,"arrow","keepTogether"))return t;var n=e.element;if("string"==typeof n){if(!(n=t.instance.popper.querySelector(n)))return t}else if(!t.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var o=t.placement.split("-")[0],r=t.offsets,i=r.popper,s=r.reference,a=-1!==["left","right"].indexOf(o),l=a?"height":"width",c=a?"Top":"Left",u=c.toLowerCase(),f=a?"left":"top",p=a?"bottom":"right",d=ft(n)[l];s[p]-d<i[u]&&(t.offsets.popper[u]-=i[u]-(s[p]-d)),s[u]+d>i[p]&&(t.offsets.popper[u]+=s[u]+d-i[p]);var h=s[u]+s[l]/2-d/2,v=V(t.instance.popper,"margin"+c).replace("px",""),m=h-rt(t.offsets.popper)[u]-v;return m=Math.max(Math.min(i[l]-d,m),0),t.arrowElement=n,t.offsets.arrow={},t.offsets.arrow[u]=Math.round(m),t.offsets.arrow[f]="",t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(mt(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=lt(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement),o=t.placement.split("-")[0],r=pt(o),i=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case Dr.FLIP:s=[o,r];break;case Dr.CLOCKWISE:s=St(o);break;case Dr.COUNTERCLOCKWISE:s=St(o,!0);break;default:s=e.behavior}return s.forEach(function(a,l){if(o!==a||s.length===l+1)return t;o=t.placement.split("-")[0],r=pt(o);var c=t.offsets.popper,u=t.offsets.reference,f=Math.floor,p="left"===o&&f(c.right)>f(u.left)||"right"===o&&f(c.left)<f(u.right)||"top"===o&&f(c.bottom)>f(u.top)||"bottom"===o&&f(c.top)<f(u.bottom),d=f(c.left)<f(n.left),h=f(c.right)>f(n.right),v=f(c.top)<f(n.top),m=f(c.bottom)>f(n.bottom),g="left"===o&&d||"right"===o&&h||"top"===o&&v||"bottom"===o&&m,b=-1!==["top","bottom"].indexOf(o),y=!!e.flipVariations&&(b&&"start"===i&&d||b&&"end"===i&&h||!b&&"start"===i&&v||!b&&"end"===i&&m);(p||g||y)&&(t.flipped=!0,(p||g)&&(o=s[l+1]),y&&(i=function(t){return"end"===t?"start":"start"===t?"end":t}(i)),t.placement=o+(i?"-"+i:""),t.offsets.popper=Er({},t.offsets.popper,dt(t.instance.popper,t.offsets.reference,t.placement)),t=vt(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],o=t.offsets,r=o.popper,i=o.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return r[s?"left":"top"]=i[n]-(a?r[s?"width":"height"]:0),t.placement=pt(e),t.offsets.popper=rt(r),t}},hide:{order:800,enabled:!0,fn:function(t){if(!Et(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=ht(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,o=e.y,r=t.offsets.popper,i=ht(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==i?i:e.gpuAcceleration,a=it(J(t.instance.popper)),l={position:r.position},c={left:Math.floor(r.left),top:Math.floor(r.top),bottom:Math.floor(r.bottom),right:Math.floor(r.right)},u="bottom"===n?"top":"bottom",f="right"===o?"left":"right",p=gt("transform"),d=void 0,h=void 0;if(h="bottom"===u?-a.height+c.bottom:c.top,d="right"===f?-a.width+c.right:c.left,s&&p)l[p]="translate3d("+d+"px, "+h+"px, 0)",l[u]=0,l[f]=0,l.willChange="transform";else{var v="bottom"===u?-1:1,m="right"===f?-1:1;l[u]=h*v,l[f]=d*m,l.willChange=u+", "+f}var g={"x-placement":t.placement};return t.attributes=Er({},g,t.attributes),t.styles=Er({},l,t.styles),t.arrowStyles=Er({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:Ot,onLoad:function(t,e,n,o,r){var i=ut(0,e,t),s=ct(n.placement,i,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",s),xt(e,{position:"absolute"}),n},gpuAcceleration:void 0}}},kr=function(){function t(e,n){var o=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Cr(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(o.update)},this.update=yr(this.update.bind(this)),this.options=Er({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(Er({},t.Defaults.modifiers,r.modifiers)).forEach(function(e){o.options.modifiers[e]=Er({},t.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return Er({name:t},o.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&q(t.onLoad)&&t.onLoad(o.reference,o.popper,o.options,t,o.state)}),this.update();var i=this.options.eventsEnabled;i&&this.enableEventListeners(),this.state.eventsEnabled=i}return xr(t,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=ut(this.state,this.popper,this.reference),t.placement=ct(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.offsets.popper=dt(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position="absolute",t=vt(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,mt(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.left="",this.popper.style.position="",this.popper.style.top="",this.popper.style[gt("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return _t.call(this)}},{key:"disableEventListeners",value:function(){return wt.call(this)}}]),t}();kr.Utils=("undefined"!=typeof window?window:global).PopperUtils,kr.placements=Sr,kr.Defaults=Tr;var Ar={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.$builder.isEditing?n("div",{ref:"styler",staticClass:"styler"},[n("ul",{staticClass:"styler-list"},["button"===t.type||"section"===t.type?n("li",[n("button",{staticClass:"styler-button",on:{click:function(e){t.updateOption("colorer")}}},[n("i",{staticClass:"material-icons"},[t._v("palette")])])]):t._e(),"button"===t.type?n("li",[n("button",{staticClass:"styler-button",on:{click:function(e){t.updateOption("link")}}},[n("i",{staticClass:"material-icons"},[t._v("link")])])]):t._e(),"header"===t.type||"section"===t.type?n("li",[n("button",{staticClass:"styler-button",on:{click:t.removeSection}},[n("i",{staticClass:"material-icons"},[t._v("delete")])])]):t._e(),"text"===t.type?[n("li",[n("button",{staticClass:"styler-button",on:{click:function(e){t.updateOption("textColor")}}},[n("i",{staticClass:"material-icons"},[t._v("palette")])])]),n("li",[n("button",{staticClass:"styler-button",on:{click:function(e){t.updateOption("align")}}},[n("i",{staticClass:"material-icons"},[t._v("format_align_justify")])])]),n("li",[n("button",{staticClass:"styler-button",on:{click:function(e){t.updateOption("textStyle")}}},[n("i",{staticClass:"material-icons"},[t._v("text_format")])])])]:t._e()],2),n("ul",{staticClass:"styler-list"},["colorer"===t.currentOption?n("li",[n("ul",{staticClass:"colorer"},t._l(t.colors,function(e){return n("li",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.colorerColor,expression:"colorerColor"}],attrs:{type:"radio",id:"color"+(e.charAt(0).toUpperCase()+e.slice(1)),name:"colorer"},domProps:{value:e,checked:t._q(t.colorerColor,e)},on:{change:function(n){t.colorerColor=e}}})])}))]):t._e(),"textColor"===t.currentOption?n("li",[n("ul",{staticClass:"colorer"},t._l(t.colors,function(e,o){return n("li",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.textColor,expression:"textColor"}],attrs:{type:"radio",id:"color"+(e.charAt(0).toUpperCase()+e.slice(1)),name:"colorer"},domProps:{value:t.textColors[o],checked:t._q(t.textColor,t.textColors[o])},on:{click:function(e){t.execute("forecolor",t.textColor)},change:function(e){t.textColor=t.textColors[o]}}})])}))]):t._e(),"link"===t.currentOption?n("li",[n("div",{staticClass:"input is-rounded is-button"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"url"}],attrs:{type:"text",placeholder:"type your link"},domProps:{value:t.url},on:{input:function(e){e.target.composing||(t.url=e.target.value)}}}),n("button",{staticClass:"button is-green",on:{click:t.addLink}},[n("i",{staticClass:"material-icons"},[t._v("link")])])])]):t._e(),"align"===t.currentOption?n("li",[n("ul",{staticClass:"align"},[n("li",[n("button",{staticClass:"styler-button",on:{click:function(e){t.execute("justifyleft")}}},[n("i",{staticClass:"material-icons"},[t._v("format_align_left")])])]),n("li",[n("button",{staticClass:"styler-button",on:{click:function(e){t.execute("justifycenter")}}},[n("i",{staticClass:"material-icons"},[t._v("format_align_center")])])]),n("li",[n("button",{staticClass:"styler-button",on:{click:function(e){t.execute("justifyright")}}},[n("i",{staticClass:"material-icons"},[t._v("format_align_right")])])])])]):t._e(),"textStyle"===t.currentOption?n("li",[n("ul",{staticClass:"align"},[n("li",[n("button",{staticClass:"styler-button",on:{click:function(e){t.execute("bold")}}},[n("i",{staticClass:"material-icons"},[t._v("format_bold")])])]),n("li",[n("button",{staticClass:"styler-button",on:{click:function(e){t.execute("italic")}}},[n("i",{staticClass:"material-icons"},[t._v("format_italic")])])]),n("li",[n("button",{staticClass:"styler-button",on:{click:function(e){t.execute("underline")}}},[n("i",{staticClass:"material-icons"},[t._v("format_underlined")])])])])]):t._e()])]):t._e()},staticRenderFns:[],name:"styler",props:["el","type","name","section"],data:function(){return{colors:["blue","green","red","black","white"],textColors:["#4da1ff","#38E4B7","#EA4F52","#000000","#FFFFFF"],textColor:"",oldColorerColor:"",colorerColor:"",mouseTarget:"",currentOption:"",url:""}},watch:{colorerColor:function(){this.changeColor()}},methods:{updateOption:function(t){this.currentOption=t,this.popper.update()},addLink:function(){this.section.set(this.name+".href",this.url)},changeColor:function(){this.removeClass("is-"+this.oldColorerColor),this.oldColorerColor=this.colorerColor,this.addClass("is-"+this.colorerColor)},addClass:function(t){this.section.set(this.name,function(e){e&&e.classes&&Array.isArray(e.classes)&&(e=e.classes),e.push(t)})},removeClass:function(t){var e=this;if(Array.isArray(t))return t.forEach(function(t){e.removeClass(t)});this.section.set(this.name,function(e){e&&e.classes&&Array.isArray(e.classes)&&(e=e.classes);var n=e.indexOf(t);e.splice(n,1)})},removeSection:function(){document.removeEventListener("click",this.hideStyler),this.popper.destroy(),this.styler.remove(),this.$builder.remove(this.id)},execute:function(t,e){void 0===e&&(e=null),document.execCommand(t,!1,e)},showStyler:function(){this.styler.classList.add("is-visible"),this.currentOption="",this.popper.update()},hideStyler:function(t){var e=t.target;if(!X(e,this.styler)&&!X(e,this.el)){if(this.styler.classList.remove("is-visible"),document.removeEventListener("click",this.hideStyler),"section"===this.type)return;if("button"===this.type)return void this.section.set(this.name+".text",this.el.innerHTML);this.section.set(this.name,this.el.innerHTML)}}},created:function(){"button"===this.type&&(this.url=this.section.get(this.name+".href"))},mounted:function(){var t=this;if(this.$builder.isEditing){this.styler=this.$refs.styler,this.id=Number(this.section.id);var e="section"===this.$props.type?"left-start":"top";this.popper=new kr(this.el,this.styler,{placement:e}),this.el.addEventListener("click",function(){t.showStyler(),document.addEventListener("click",t.hideStyler,!1)},!1)}},updated:function(){if(this.$builder.isEditing){this.styler=this.$refs.styler;var t="section"===this.$props.type?"left-start":"top";this.popper=new kr(this.el,this.styler,{placement:t})}}},Nr=function(t,e){return e={exports:{}},t(e,e.exports),e.exports}(function(t){!function(e){t.exports=e()}(function(){function t(e,n){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(e);this.el=e,this.options=n=v({},n),e[H]=this;var r={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==t.supportPointer};for(var i in r)!(i in n)&&(n[i]=r[i]);it(n);for(var s in this)"_"===s.charAt(0)&&"function"==typeof this[s]&&(this[s]=this[s].bind(this));this.nativeDraggable=!n.forceFallback&&J,o(e,"mousedown",this._onTapStart),o(e,"touchstart",this._onTapStart),n.supportPointer&&o(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(o(e,"dragover",this),o(e,"dragenter",this)),ot.push(this._onDragOver),n.store&&this.sort(n.store.get(this))}function e(t,e){"clone"!==t.lastPullMode&&(e=!0),C&&C.state!==e&&(s(C,"display",e?"none":""),e||C.state&&(t.options.group.revertClone?(x.insertBefore(C,O),t._animate(y,C)):x.insertBefore(C,y)),C.state=e)}function n(t,e,n){if(t){n=n||U;do{if(">*"===e&&t.parentNode===n||d(t,e))return t}while(t=function(t){var e=t.host;return e&&e.nodeType?e:t.parentNode}(t))}return null}function o(t,e,n){t.addEventListener(e,n,G)}function r(t,e,n){t.removeEventListener(e,n,G)}function i(t,e,n){if(t)if(t.classList)t.classList[n?"add":"remove"](e);else{var o=(" "+t.className+" ").replace(R," ").replace(" "+e+" "," ");t.className=(o+(n?" "+e:"")).replace(R," ")}}function s(t,e,n){var o=t&&t.style;if(o){if(void 0===n)return U.defaultView&&U.defaultView.getComputedStyle?n=U.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in o||(e="-webkit-"+e),o[e]=n+("string"==typeof n?"":"px")}}function a(t,e,n){if(t){var o=t.getElementsByTagName(e),r=0,i=o.length;if(n)for(;r<i;r++)n(o[r],r);return o}return[]}function l(t,e,n,o,r,i,s,a){t=t||e[H];var l=U.createEvent("Event"),c=t.options,u="on"+n.charAt(0).toUpperCase()+n.substr(1);l.initEvent(n,!0,!0),l.to=r||e,l.from=i||e,l.item=o||e,l.clone=C,l.oldIndex=s,l.newIndex=a,e.dispatchEvent(l),c[u]&&c[u].call(t,l)}function c(t,e,n,o,r,i,s,a){var l,c,u=t[H],f=u.options.onMove;return(l=U.createEvent("Event")).initEvent("move",!0,!0),l.to=e,l.from=t,l.dragged=n,l.draggedRect=o,l.related=r||e,l.relatedRect=i||e.getBoundingClientRect(),l.willInsertAfter=a,t.dispatchEvent(l),f&&(c=f.call(u,l,s)),c}function u(t){t.draggable=!1}function f(){Z=!1}function p(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t&&(t=t.previousElementSibling);)"TEMPLATE"===t.nodeName.toUpperCase()||">*"!==e&&!d(t,e)||n++;return n}function d(t,e){if(t){var n=(e=e.split(".")).shift().toUpperCase(),o=new RegExp("\\s("+e.join("|")+")(?=\\s)","g");return!(""!==n&&t.nodeName.toUpperCase()!=n||e.length&&((" "+t.className+" ").match(o)||[]).length!=e.length)}return!1}function h(t,e){var n,o;return function(){void 0===n&&(n=arguments,o=this,X(function(){1===n.length?t.call(o,n[0]):t.apply(o,n),n=void 0},e))}}function v(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function m(t){return V&&V.dom?V.dom(t).cloneNode(!0):q?q(t).clone(!0)[0]:t.cloneNode(!0)}function g(t){return X(t,0)}function b(t){return clearTimeout(t)}if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var y,_,w,C,x,O,E,S,j,D,T,k,A,N,$,L,P,B,M,F,I={},R=/\s+/g,z=/left|right|inline/,H="Sortable"+(new Date).getTime(),W=window,U=W.document,Y=W.parseInt,X=W.setTimeout,q=W.jQuery||W.Zepto,V=W.Polymer,G=!1,K=!1,J="draggable"in U.createElement("div"),Q=function(t){return!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie)/i)&&(t=U.createElement("x"),t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents)}(),Z=!1,tt=Math.abs,et=Math.min,nt=[],ot=[],rt=h(function(t,e,n){if(n&&e.scroll){var o,r,i,s,a,l,c=n[H],u=e.scrollSensitivity,f=e.scrollSpeed,p=t.clientX,d=t.clientY,h=window.innerWidth,v=window.innerHeight;if(j!==n&&(S=e.scroll,j=n,D=e.scrollFn,!0===S)){S=n;do{if(S.offsetWidth<S.scrollWidth||S.offsetHeight<S.scrollHeight)break}while(S=S.parentNode)}S&&(o=S,r=S.getBoundingClientRect(),i=(tt(r.right-p)<=u)-(tt(r.left-p)<=u),s=(tt(r.bottom-d)<=u)-(tt(r.top-d)<=u)),i||s||(s=(v-d<=u)-(d<=u),((i=(h-p<=u)-(p<=u))||s)&&(o=W)),I.vx===i&&I.vy===s&&I.el===o||(I.el=o,I.vx=i,I.vy=s,clearInterval(I.pid),o&&(I.pid=setInterval(function(){if(l=s?s*f:0,a=i?i*f:0,"function"==typeof D)return D.call(c,a,l,t);o===W?W.scrollTo(W.pageXOffset+a,W.pageYOffset+l):(o.scrollTop+=l,o.scrollLeft+=a)},24)))}},30),it=function(t){function e(t,e){return void 0!==t&&!0!==t||(t=n.name),"function"==typeof t?t:function(n,o){var r=o.options.group.name;return e?t:t&&(t.join?t.indexOf(r)>-1:r==t)}}var n={},o=t.group;o&&"object"==typeof o||(o={name:o}),n.name=o.name,n.checkPull=e(o.pull,!0),n.checkPut=e(o.put),n.revertClone=o.revertClone,t.group=n};try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){G={capture:!1,passive:K=!1}}}))}catch(t){}return t.prototype={constructor:t,_onTapStart:function(t){var e,o=this,r=this.el,i=this.options,s=i.preventOnFilter,a=t.type,c=t.touches&&t.touches[0],u=(c||t).target,f=t.target.shadowRoot&&t.path&&t.path[0]||u,d=i.filter;if(function(t){for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var o=e[n];o.checked&&nt.push(o)}}(r),!y&&!(/mousedown|pointerdown/.test(a)&&0!==t.button||i.disabled)&&!f.isContentEditable&&(u=n(u,i.draggable,r))&&E!==u){if(e=p(u,i.draggable),"function"==typeof d){if(d.call(this,t,u,this))return l(o,f,"filter",u,r,r,e),void(s&&t.preventDefault())}else if(d&&(d=d.split(",").some(function(t){if(t=n(f,t.trim(),r))return l(o,t,"filter",u,r,r,e),!0})))return void(s&&t.preventDefault());i.handle&&!n(f,i.handle,r)||this._prepareDragStart(t,c,u,e)}},_prepareDragStart:function(t,e,n,r){var s,c=this,f=c.el,p=c.options,d=f.ownerDocument;n&&!y&&n.parentNode===f&&(B=t,x=f,_=(y=n).parentNode,O=y.nextSibling,E=n,L=p.group,N=r,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,y.style["will-change"]="all",s=function(){c._disableDelayedDrag(),y.draggable=c.nativeDraggable,i(y,p.chosenClass,!0),c._triggerDragStart(t,e),l(c,x,"choose",y,x,x,N)},p.ignore.split(",").forEach(function(t){a(y,t.trim(),u)}),o(d,"mouseup",c._onDrop),o(d,"touchend",c._onDrop),o(d,"touchcancel",c._onDrop),o(d,"selectstart",c),p.supportPointer&&o(d,"pointercancel",c._onDrop),p.delay?(o(d,"mouseup",c._disableDelayedDrag),o(d,"touchend",c._disableDelayedDrag),o(d,"touchcancel",c._disableDelayedDrag),o(d,"mousemove",c._disableDelayedDrag),o(d,"touchmove",c._disableDelayedDrag),p.supportPointer&&o(d,"pointermove",c._disableDelayedDrag),c._dragStartTimer=X(s,p.delay)):s())},_disableDelayedDrag:function(){var t=this.el.ownerDocument;clearTimeout(this._dragStartTimer),r(t,"mouseup",this._disableDelayedDrag),r(t,"touchend",this._disableDelayedDrag),r(t,"touchcancel",this._disableDelayedDrag),r(t,"mousemove",this._disableDelayedDrag),r(t,"touchmove",this._disableDelayedDrag),r(t,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(t,e){(e=e||("touch"==t.pointerType?t:null))?(B={target:y,clientX:e.clientX,clientY:e.clientY},this._onDragStart(B,"touch")):this.nativeDraggable?(o(y,"dragend",this),o(x,"dragstart",this._onDragStart)):this._onDragStart(B,!0);try{U.selection?g(function(){U.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(){if(x&&y){var e=this.options;i(y,e.ghostClass,!0),i(y,e.dragClass,!1),t.active=this,l(this,x,"start",y,x,x,N)}else this._nulling()},_emulateDragOver:function(){if(M){if(this._lastX===M.clientX&&this._lastY===M.clientY)return;this._lastX=M.clientX,this._lastY=M.clientY,Q||s(w,"display","none");var t=U.elementFromPoint(M.clientX,M.clientY),e=t,n=ot.length;if(t&&t.shadowRoot&&(e=t=t.shadowRoot.elementFromPoint(M.clientX,M.clientY)),e)do{if(e[H]){for(;n--;)ot[n]({clientX:M.clientX,clientY:M.clientY,target:t,rootEl:e});break}t=e}while(e=e.parentNode);Q||s(w,"display","")}},_onTouchMove:function(e){if(B){var n=this.options,o=n.fallbackTolerance,r=n.fallbackOffset,i=e.touches?e.touches[0]:e,a=i.clientX-B.clientX+r.x,l=i.clientY-B.clientY+r.y,c=e.touches?"translate3d("+a+"px,"+l+"px,0)":"translate("+a+"px,"+l+"px)";if(!t.active){if(o&&et(tt(i.clientX-this._lastX),tt(i.clientY-this._lastY))<o)return;this._dragStarted()}this._appendGhost(),F=!0,M=i,s(w,"webkitTransform",c),s(w,"mozTransform",c),s(w,"msTransform",c),s(w,"transform",c),e.preventDefault()}},_appendGhost:function(){if(!w){var t,e=y.getBoundingClientRect(),n=s(y),o=this.options;i(w=y.cloneNode(!0),o.ghostClass,!1),i(w,o.fallbackClass,!0),i(w,o.dragClass,!0),s(w,"top",e.top-Y(n.marginTop,10)),s(w,"left",e.left-Y(n.marginLeft,10)),s(w,"width",e.width),s(w,"height",e.height),s(w,"opacity","0.8"),s(w,"position","fixed"),s(w,"zIndex","100000"),s(w,"pointerEvents","none"),o.fallbackOnBody&&U.body.appendChild(w)||x.appendChild(w),t=w.getBoundingClientRect(),s(w,"width",2*e.width-t.width),s(w,"height",2*e.height-t.height)}},_onDragStart:function(t,e){var n=this,r=t.dataTransfer,a=n.options;n._offUpEvents(),L.checkPull(n,n,y,t)&&((C=m(y)).draggable=!1,C.style["will-change"]="",s(C,"display","none"),i(C,n.options.chosenClass,!1),n._cloneId=g(function(){x.insertBefore(C,y),l(n,x,"clone",y)})),i(y,a.dragClass,!0),e?("touch"===e?(o(U,"touchmove",n._onTouchMove),o(U,"touchend",n._onDrop),o(U,"touchcancel",n._onDrop),a.supportPointer&&(o(U,"pointermove",n._onTouchMove),o(U,"pointerup",n._onDrop))):(o(U,"mousemove",n._onTouchMove),o(U,"mouseup",n._onDrop)),n._loopId=setInterval(n._emulateDragOver,50)):(r&&(r.effectAllowed="move",a.setData&&a.setData.call(n,r,y)),o(U,"drop",n),n._dragStartId=g(n._dragStarted))},_onDragOver:function(o){var r,i,a,l,u=this.el,p=this.options,d=p.group,h=t.active,v=L===d,m=!1,g=p.sort;if(void 0!==o.preventDefault&&(o.preventDefault(),!p.dragoverBubble&&o.stopPropagation()),!y.animated&&(F=!0,h&&!p.disabled&&(v?g||(l=!x.contains(y)):P===this||(h.lastPullMode=L.checkPull(this,h,y,o))&&d.checkPut(this,h,y,o))&&(void 0===o.rootEl||o.rootEl===this.el))){if(rt(o,p,this.el),Z)return;if(r=n(o.target,p.draggable,u),i=y.getBoundingClientRect(),P!==this&&(P=this,m=!0),l)return e(h,!0),_=x,void(C||O?x.insertBefore(y,C||O):g||x.appendChild(y));if(0===u.children.length||u.children[0]===w||u===o.target&&function(t,e){var n=t.lastElementChild.getBoundingClientRect();return e.clientY-(n.top+n.height)>5||e.clientX-(n.left+n.width)>5}(u,o)){if(0!==u.children.length&&u.children[0]!==w&&u===o.target&&(r=u.lastElementChild),r){if(r.animated)return;a=r.getBoundingClientRect()}e(h,v),!1!==c(x,u,y,i,r,a,o)&&(y.contains(u)||(u.appendChild(y),_=u),this._animate(i,y),r&&this._animate(a,r))}else if(r&&!r.animated&&r!==y&&void 0!==r.parentNode[H]){T!==r&&(T=r,k=s(r),A=s(r.parentNode));var b=(a=r.getBoundingClientRect()).right-a.left,E=a.bottom-a.top,S=z.test(k.cssFloat+k.display)||"flex"==A.display&&0===A["flex-direction"].indexOf("row"),j=r.offsetWidth>y.offsetWidth,D=r.offsetHeight>y.offsetHeight,N=(S?(o.clientX-a.left)/b:(o.clientY-a.top)/E)>.5,$=r.nextElementSibling,B=!1;if(S){var M=y.offsetTop,I=r.offsetTop;B=M===I?r.previousElementSibling===y&&!j||N&&j:r.previousElementSibling===y||y.previousElementSibling===r?(o.clientY-a.top)/E>.5:I>M}else m||(B=$!==y&&!D||N&&D);var R=c(x,u,y,i,r,a,o,B);!1!==R&&(1!==R&&-1!==R||(B=1===R),Z=!0,X(f,30),e(h,v),y.contains(u)||(B&&!$?u.appendChild(y):r.parentNode.insertBefore(y,B?$:r)),_=y.parentNode,this._animate(i,y),this._animate(a,r))}}},_animate:function(t,e){var n=this.options.animation;if(n){var o=e.getBoundingClientRect();1===t.nodeType&&(t=t.getBoundingClientRect()),s(e,"transition","none"),s(e,"transform","translate3d("+(t.left-o.left)+"px,"+(t.top-o.top)+"px,0)"),e.offsetWidth,s(e,"transition","all "+n+"ms"),s(e,"transform","translate3d(0,0,0)"),clearTimeout(e.animated),e.animated=X(function(){s(e,"transition",""),s(e,"transform",""),e.animated=!1},n)}},_offUpEvents:function(){var t=this.el.ownerDocument;r(U,"touchmove",this._onTouchMove),r(U,"pointermove",this._onTouchMove),r(t,"mouseup",this._onDrop),r(t,"touchend",this._onDrop),r(t,"pointerup",this._onDrop),r(t,"touchcancel",this._onDrop),r(t,"pointercancel",this._onDrop),r(t,"selectstart",this)},_onDrop:function(e){var n=this.el,o=this.options;clearInterval(this._loopId),clearInterval(I.pid),clearTimeout(this._dragStartTimer),b(this._cloneId),b(this._dragStartId),r(U,"mouseover",this),r(U,"mousemove",this._onTouchMove),this.nativeDraggable&&(r(U,"drop",this),r(n,"dragstart",this._onDragStart)),this._offUpEvents(),e&&(F&&(e.preventDefault(),!o.dropBubble&&e.stopPropagation()),w&&w.parentNode&&w.parentNode.removeChild(w),x!==_&&"clone"===t.active.lastPullMode||C&&C.parentNode&&C.parentNode.removeChild(C),y&&(this.nativeDraggable&&r(y,"dragend",this),u(y),y.style["will-change"]="",i(y,this.options.ghostClass,!1),i(y,this.options.chosenClass,!1),l(this,x,"unchoose",y,_,x,N),x!==_?($=p(y,o.draggable))>=0&&(l(null,_,"add",y,_,x,N,$),l(this,x,"remove",y,_,x,N,$),l(null,_,"sort",y,_,x,N,$),l(this,x,"sort",y,_,x,N,$)):y.nextSibling!==O&&($=p(y,o.draggable))>=0&&(l(this,x,"update",y,_,x,N,$),l(this,x,"sort",y,_,x,N,$)),t.active&&(null!=$&&-1!==$||($=N),l(this,x,"end",y,_,x,N,$),this.save()))),this._nulling()},_nulling:function(){x=y=_=w=O=C=E=S=j=B=M=F=$=T=k=P=L=t.active=null,nt.forEach(function(t){t.checked=!0}),nt.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragover":case"dragenter":y&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.preventDefault()}(t));break;case"mouseover":this._onDrop(t);break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],o=this.el.children,r=0,i=o.length,s=this.options;r<i;r++)n(t=o[r],s.draggable,this.el)&&e.push(t.getAttribute(s.dataIdAttr)||function(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,o=0;n--;)o+=e.charCodeAt(n);return o.toString(36)}(t));return e},sort:function(t){var e={},o=this.el;this.toArray().forEach(function(t,r){var i=o.children[r];n(i,this.options.draggable,o)&&(e[t]=i)},this),t.forEach(function(t){e[t]&&(o.removeChild(e[t]),o.appendChild(e[t]))})},save:function(){var t=this.options.store;t&&t.set(this)},closest:function(t,e){return n(t,e||this.options.draggable,this.el)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];n[t]=e,"group"===t&&it(n)},destroy:function(){var t=this.el;t[H]=null,r(t,"mousedown",this._onTapStart),r(t,"touchstart",this._onTapStart),r(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(r(t,"dragover",this),r(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),ot.splice(ot.indexOf(this._onDragOver),1),this._onDrop(),this.el=t=null}},o(U,"touchmove",function(e){t.active&&e.preventDefault()}),t.utils={on:o,off:r,css:s,find:a,is:function(t,e){return!!n(t,e,t)},extend:v,throttle:h,closest:n,toggleClass:i,clone:m,index:p,nextTick:g,cancelNextTick:b},t.create=function(e,n){return new t(e,n)},t.version="1.7.0",t})}),$r=[],Lr={},Pr={intro:!0,sections:[],plugins:[]},Br=null,Mr=function(t){this.isEditing=!0,this.isSorting=!1,this.intro=t.intro,this.sections=t.sections,this.components={},this.installPlugins()};return Mr.prototype.create=function(t){this.sections.push(new pr(t))},Mr.prototype.outputFragment=function(){var t=document.createDocumentFragment();return t.appendChild(document.head.cloneNode(!0)),t.appendChild(this.rootEl.cloneNode(!0)),t},Mr.prototype.set=function(t){var e=this;t.sections&&Array.isArray(t.sections)&&(this.sections=t.sections.map(function(t){return t.schema||(t.schema=e.components[t.name].options.$schema),new pr(t)}))},Mr.prototype.find=function(t){return this.sections.find(function(e){return e.id===t})},Mr.prototype.remove=function(t){var e=this.sections.findIndex(function(e){return e.id===t});this.sections.splice(e,1)},Mr.prototype.clear=function(){this.sections=[]},Mr.component=function(t,e){Mr.use(function(n){n.builder.component(t,e)})},Mr.mix=function(t){Lr=tn(Lr,t)},Mr.prototype.component=function(t,e){"object"==typeof t&&(t=(e=t).name),e.extend||(e=Br.extend(e)),this.components[t]=e.extend({directives:{styler:this.styler},mixins:[this.mixin],components:Lr.components})},Mr.prototype.installPlugins=function(){var t=this;$r.forEach(function(e){e.plugin({builder:t,Vue:Br},e.options)}),$r=[]},Mr.install=function(t,e){if(void 0===e&&(e={}),!Br){Br=t;var n=new Mr(Object.assign({},Pr,e));t.util.defineReactive(n,"sections",n.sections),t.util.defineReactive(n,"isEditing",n.isEditing),t.util.defineReactive(n,"isSorting",n.isSorting);var o={components:n.components,beforeCreate:function(){this.$builder=n}};t.component("builder",t.extend(dr).extend(o)),t.component("builder-render",t.extend(hr).extend(o))}},Mr.use=function(t,e){if(void 0===e&&(e={}),"function"!=typeof t)return console.warn("Plugins must be a function");$r.push({plugin:t,options:e})},Mr.prototype.toggleSort=function(){if(this.isSorting||!this.sortable){console.log(this.sections);var t=this;this.sortable=Nr.create(this.rootEl,{animation:150,scroll:!0,scrollSpeed:10,onUpdate:function(e){var n=e.oldIndex,o=e.newIndex;t.sortSections(n,o)}})}else this.sortable.destroy()},Mr.prototype.sortSections=function(t,e){var n=this.sections.splice(t,1)[0];this.sections.splice(e,0,n)},Mr.prototype.toJSON=function(){return{sections:this.sections.map(function(t){return{name:t.name,data:t.data}})}},Mr.prototype.preview=function(){var t=this.outputFragment(),e=t.querySelector("#artboard"),n=t.querySelector("head"),o=window.open("about:blank","print_preview").document;!function(t){var e=Array.from(t.querySelectorAll(".is-editable")),n=Array.from(t.querySelectorAll(".is-uploader")),o=Array.from(t.querySelectorAll(".styler"));e.forEach(function(t){t.contentEditable="false",t.classList.remove("is-editable")}),n.forEach(function(t){t.querySelector(":scope > input").remove(),t.classList.remove("is-uploader")}),o.forEach(function(t){t.remove()})}(t),o.open(),o.write("<!DOCTYPE html>\n        <html>\n          <head>\n             "+n.innerHTML+"\n          </head>\n          <body>\n            "+e.innerHTML+"\n          <body>\n        </html>")},Mr.prototype.export=function(t){return void 0===t&&(t="json"),"preview"===t?this.preview():this.toJSON()},Mr.use(Dt),Mr.use(function(t){var e=t.builder;e.mixin={provide:function(){var t={};return this.$builder&&(t.$builder=this.$builder),this.$section&&(t.$section=this.$section),t},beforeCreate:function(){this.$builder=e,this.$options.propsData&&void 0!==this.$options.propsData.id&&(this.$section=this.$builder.find(this.$options.propsData.id),this.$options.computed||(this.$options.computed={}),this.$options.computed.$sectionData=function(){return this.$section.data})},mounted:function(){Array.from(this.$el.querySelectorAll(".is-editable")).forEach(function(t){t.contentEditable="true"})},updated:function(){var t=this;Array.from(this.$el.querySelectorAll("[contentEditable]")).forEach(function(e){e.contentEditable=t.$builder.isEditing})}}}),"undefined"!=typeof Vue&&Vue.use(Mr),Mr.version="1.0.2",Mr.types=On,Mr});